{% extends 'base.html' %}

{% block title %}Dashboard - AI MCQ Generator{% endblock %}

{% block content %}
<div class="hero">
  <div class="hero-card">
    <h1>Welcome, Professor</h1>
    <p class="small-note">Generate high-quality, unique multiple-choice quizzes with secure answer-key handling and PDF exports. Quick, reliable, and tailored to your subject and topics.</p>
    <div class="cta-row" style="margin-top:16px">
      <a class="btn" href="/quiz/generate">Generate Quiz</a>
      <a class="btn secondary" href="#">View History</a>
      <a class="btn secondary" href="#">Templates</a>
    </div>

    <div class="card" style="margin-top:18px; display:flex; gap:12px; align-items:center">
      <div style="flex:1">
        <div class="small-note">Quick stats</div>
        <div style="display:flex; gap:12px; margin-top:8px">
          <div class="card" style="padding:10px; min-width:120px; text-align:center">
            <div class="small-note">Total Quizzes</div>
            <div style="font-size:20px;font-weight:700">{{ stats.total }}</div>
          </div>
          <div class="card" style="padding:10px; min-width:160px; text-align:center">
            <div class="small-note">Last Generated</div>
            <div style="font-size:15px;font-weight:600">{{ stats.last }}</div>
          </div>
          <div class="card" style="padding:10px; min-width:120px; text-align:center">
            <div class="small-note">Avg Difficulty</div>
            <div style="font-size:20px;font-weight:700">{{ stats.avg_difficulty or '—' }}</div>
          </div>
        </div>
      </div>
      <div style="width:220px">
        <div class="small-note">Templates</div>
        <div style="display:flex;flex-direction:column;gap:8px;margin-top:8px">
          <a class="btn secondary" href="#">Calculus: Derivatives</a>
          <a class="btn secondary" href="#">Physics: Mechanics</a>
        </div>
      </div>
    </div>

  </div>

  <div style="width:360px">
    <div class="card">
      <h3>Recent Quizzes</h3>
      <div class="recent-list">
        {% for q in recent_quizzes or [] %}
        <div class="recent-item">
          <div>
            <div><strong>{{ q.title }}</strong></div>
            <div class="meta">{{ q.created }}</div>
          </div>
          <div class="meta">{{ q.num }} Q</div>
        </div>
        {% else %}
        <div class="small-note">No recent quizzes yet. Generate your first quiz!</div>
        {% endfor %}
      </div>
    </div>
  </div>
</div>

<div class="grid" style="margin-top:22px">
  <div class="card">
    <h3>Create a New Quiz</h3>
    <p class="small-note">Start from a template or provide subject and topics. Questions will be generated by the configured AI provider.</p>
    <div style="margin-top:12px;display:flex;gap:12px;flex-wrap:wrap">
      <a class="btn" href="/quiz/generate">Create Quiz</a>
      <a class="btn secondary" href="#">From Template</a>
      <a class="btn secondary" href="#">Schedule</a>
    </div>

    <div style="margin-top:18px">
      <h4 style="margin:0 0 8px 0">Popular Templates</h4>
      <div style="display:flex;gap:8px;flex-wrap:wrap">
        <div class="card" style="padding:8px;min-width:160px">
          <div style="font-weight:600">Calculus — Midterm</div>
          <div class="small-note">20 Q · Medium</div>
        </div>
        <div class="card" style="padding:8px;min-width:160px">
          <div style="font-weight:600">Physics — Kinematics</div>
          <div class="small-note">15 Q · Hard</div>
        </div>
        <div class="card" style="padding:8px;min-width:160px">
          <div style="font-weight:600">Linear Algebra — Basics</div>
          <div class="small-note">10 Q · Easy</div>
        </div>
      </div>
    </div>

  </div>

  <div class="card">
    <h3>Activity Feed</h3>
    <div class="small-note">Recent actions and system notices.</div>
    <ul style="margin-top:12px;list-style:none;padding:0">
      <li class="small-note">No activity yet — generate your first quiz to see activity here.</li>
    </ul>
  </div>
</div>
{% endblock %}